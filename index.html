<!DOCTYPE html>
<html>
  <head>
    <title>Formulário de Atendimento</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
      crossorigin="anonymous"
    />
    <script
      src="https://code.jquery.com/jquery-3.7.0.min.js"
      integrity="sha384-NXgwF8Kv9SSAr+jemKKcbvQsz+teULH/a5UNJvZc6kP47hZgl62M1vGnw6gHQhb1"
      crossorigin="anonymous"
    ></script>
    <style>
      .campo-obrigatorio {
        border: 2px solid red; /* Cor da borda vermelha para destacar */
      }
    </style>
  </head>

  <body class="bg-light">
    <script>
      //Variaveis globaas
      const CLIENT_ID = "4c5bbfcd-dc6b-4111-9f21-c2e5815bdf93";
      const ENVIRONMENT = "sae1.pure.cloud";
      let token;
      let conversationId;
      let participantId;
      let agentId;
      let customerAni;
      let emailConversationId;

      //Coleta o token Oauth que vem na URL retornada pelo serviço de autenticação. Por estar na URL e não no corpo da página é interessante carregar
      //logo no inicio do script
      if (window.location.hash) {
        token = getParameterByName("access_token");
        location.hash = "";
      } else {
        let queryStringData = {
          response_type: "token",
          client_id: CLIENT_ID,
          redirect_uri: window.location.href,
        };
        window.location.replace(
          `https://login.${ENVIRONMENT}/oauth/authorize?` +
            jQuery.param(queryStringData)
        );
      }

      function getParameterByName(name) {
        name = name.replace(/[\\[]/, "\\[").replace(/[\]]/, "\\]");
        let regex = new RegExp("[\\#&]" + name + "=([^&#]*)"),
          results = regex.exec(location.hash);
        return results === null
          ? ""
          : decodeURIComponent(results[1].replace(/\+/g, " "));
      }

      function generateProtocol() {
        let now = new Date();
        let protocol = now.toISOString().replace(/[\-T:\.Z]/g, "");
        $("#inputProtocolo").val(protocol);
        $("#inputProtocolo").prop("disabled", true);
      }

      function formatDataForEmail(obj) {
        return Object.entries(obj)
          .map(([key, value]) => `${key}: ${value}`)
          .join(",\n");
      }

      function getConversations() {
        return new Promise((resolve, reject) => {
          $.ajax({
            url: "https://api.sae1.pure.cloud/api/v2/conversations?communicationType=Call",
            type: "GET",
            headers: {
              Authorization: "Bearer " + token,
              "Content-Type": "application/json",
            },
            success: function (response) {
              // Armazena os IDs das conversas
              conversationId = response.entities.map(function (entity) {
                return entity.id;
              });

              // Armazena os IDs dos participantes com o propósito 'customer'
              agentId = response.entities
                .map(function (entity) {
                  return entity.participants
                    .filter(function (participant) {
                      return participant.wrapupRequired == true;
                    })
                    .map(function (agent) {
                      return agent.id;
                    });
                })
                .flat(); // flat() é usado para achatar o array resultante

              // Armazena os IDs dos participantes com o propósito 'customer'
              participantId = response.entities
                .map(function (entity) {
                  return entity.participants
                    .filter(function (participant) {
                      return participant.purpose === "customer";
                    })
                    .map(function (customer) {
                      return customer.id;
                    });
                })
                .flat(); // flat() é usado para achatar o array resultante

              // Armazena os IDs dos participantes com o propósito 'customer'
              customerAni = response.entities
                .map(function (entity) {
                  return entity.participants
                    .filter(function (participant) {
                      return participant.purpose === "customer";
                    })
                    .map(function (customer) {
                      return customer.ani.replace("tel:", ""); // Remove 'tel:' do ANI
                    });
                })
                .flat(); // flat() é usado para achatar o array resultante

              // Faça algo com os IDs armazenados
              $("#inputTelefone").val(customerAni);
              $("#conversationId").text(conversationId); // Exibe o token no elemento com ID 'accessToken'
              $("#participantId").text(participantId); // Exibe o token no elemento com ID 'accessToken'
              $("#agentId").text(agentId); // Exibe o token no elemento com ID 'accessToken'
              $("#customerAni").text(customerAni); // Exibe o token no elemento com ID 'accessToken'
              $("#accessToken").text(token); // Exibe o token no elemento com ID 'accessToken'

              resolve();
            },
            error: function (xhr, status, error) {
              console.error("Erro na requisição: ", status, error);
              reject(error);
            },
          });
        });
      }

      function updateParticipantAttributes(data) {
        //atualiza atributos do participante
        $.ajax({
          url: `https://api.${ENVIRONMENT}/api/v2/conversations/${conversationId}/participants/${participantId}/attributes`,
          type: "PATCH",
          headers: {
            Authorization: "Bearer " + token,
            "Content-Type": "application/json",
          },
          data: JSON.stringify({ attributes: data }),
          success: function (response) {
            console.log("Dados do participante enviados com sucesso!");
            console.log(response);
          },
          error: function (xhr, status, error) {
            alert("Erro ao enviar os Dados do participante.");
            console.error("Erro: ", status, error);
          },
        });
      }

      function updateParticipantNotes() {
        //Atualiza campo de observações/notas do particiapnte
        $.ajax({
          url: `https://api.sae1.pure.cloud/api/v2/conversations/calls/${conversationId}/participants/${participantId}`,
          type: "PATCH",
          headers: {
            Authorization: "Bearer " + token,
            "Content-Type": "application/json",
          },
          data: JSON.stringify({
            wrapup: {
              notes: $("#inputObservacoes").val(),
              code: "FINALIZADO AGENTE",
            },
          }),
          success: function (response) {
            console.log("Notas da conversa adicionadas com sucesso!");
            console.log(response);
          },
          error: function (xhr, status, error) {
            console.error("Erro ao enviar as notas da conversa.");
            console.error("Erro: ", status, error);
          },
        });
      }

      function transferToFlow() {
        var payload = {
          address: "51d616b2-b779-44da-8384-181e74cda989", // ID do Fluxo de pesquisa de satisfação
        };

        $.ajax({
          url: `https://api.sae1.pure.cloud/api/v2/conversations/calls/${conversationId}/participants/${agentId}/replace`,
          type: "POST",
          headers: {
            Authorization: `Bearer ${token}`,
            "Content-Type": "application/json",
          },
          data: JSON.stringify(payload),
          success: function (response) {
            console.log(
              "Chamada transferida com sucesso para o fluxo de Net Score."
            );
          },
          error: function (xhr, status, error) {
            console.error(
              "Erro ao transferir chamada para o fluxo de Net Score.",
              status,
              error
            );
          },
        });
      }

      function disconnectConversation(conversationId = emailConversationId) {
        $.ajax({
          url: `https://api.sae1.pure.cloud/api/v2/conversations/${conversationId}/disconnect`,
          type: "POST",
          headers: {
            Authorization: "Bearer " + token,
            "Content-Type": "application/json",
          },
          success: function (response) {
            console.log("Conversa de email desconectada com sucesso.");
          },
          error: function (xhr, status, error) {
            console.error("Erro ao desconectar a conversa: ", status, error);
          },
        });
      }

      function sendEmailMessage(data) {
        var emailDetails = {
          to: [
            "aline.laveckas@kainos.com.br",
            "wagner.izidro@kainos.com.br",
            "lucas.santos7@kainos.com.br",
          ],
          fromEmail: "dlink@atendimentokainos.sae1.pure.cloud",
          fromName: "D-Link",
          cc: [],
          bcc: [],
          textBody: formatDataForEmail(data),
          subject: `${$("#inputProtocolo").val()} - ${$(
            "#inputDescStatus"
          ).val()}`,
        };

        $.ajax({
          url: `https://api.sae1.pure.cloud/api/v2/conversations/emails/${emailConversationId}/messages`,
          type: "POST",
          headers: {
            Authorization: "Bearer " + token,
            "Content-Type": "application/json",
          },
          data: JSON.stringify({
            to: emailDetails.to.map((email) => ({ email: email })),
            from: {
              email: emailDetails.fromEmail,
              name: emailDetails.fromName,
            },
            cc: emailDetails.cc,
            bcc: emailDetails.bcc,
            textBody: emailDetails.textBody,
            state: "Ready",
            emailSizeBytes: 142,
            maxEmailSizeBytes: 41943040,
            attachments: [],
            historyIncluded: true,
            subject: emailDetails.subject,
          }),
          success: function (response) {
            console.log("Mensagem de e-mail enviada com sucesso.");
            disconnectConversation(emailConversationId);
          },
          error: function (xhr, status, error) {
            console.error(
              "Erro ao enviar a mensagem de e-mail: ",
              status,
              error
            );
          },
        });
      }

      function createConversation(data) {
        if ($("#inputDescStatus").val() == "Envio para RMA - E7") {
          $.ajax({
            url: `https://api.sae1.pure.cloud/api/v2/conversations/emails`,
            type: "POST",
            headers: {
              Authorization: "Bearer " + token,
              "Content-Type": "application/json",
            },
            data: JSON.stringify({
              queueId: "36d024b5-a42b-4064-8cd7-03a0af8faa93",
              provider: "PureCloud Email",
              toAddress: "aline.laveckas@kainos.com.br",
              toName: "BackOffice D-Link",
              fromAddress: "deltaairlines@atendimentokainos.sae1.pure.cloud",
              fromName: "BackOffice D-Link",
              subject: `${$("#inputProtocolo").val()} - ${$(
                "#inputProtocolo"
              ).val()}`,
              direction: "OUTBOUND",
              textBody: formatDataForEmail(data),
            }),
            success: function (response) {
              console.log("Conversa de e-mail criada com sucesso");
              emailConversationId = response.id;
              console.log(emailConversationId);
              sendEmailMessage(data);
            },
            error: function (xhr, status, error) {
              console.error("Erro ao enviar e-mail: ", status, error);
            },
          });
        } else {
          console.log("Tipo de status não requer envio de e-mail");
        }
      }

      function sendFormData() {
        //recupera dados do formulário
        var data = {
          Protocolo: $("#inputProtocolo").val() || "",
          Nome: $("#inputNomeCliente").val() || "",
          Contato: $("#inputContato").val() || "",
          Email: $("#inputEmailCliente").val() || "",
          "CPF / CNPJ": $("#inputCpfCnpj").val() || "",
          Telefone: $("#inputTelefone").val() || "",
          "Telefone Principal": $("#inputTelefonePrincipal").val() || "",
          CEP: $("#inputCep").val() || "",
          UF: $("#inputEstado").val() || "",
          Cidade: $("#inputCidade").val() || "",
          Bairro: $("#inputBairro").val() || "",
          Rua: $("#inputRua").val() || "",
          Número: $("#inputNumeroResidencia").val() || "",
          Complemento: $("#inputComplemento").val() || "",
          "Grupo Status": $("#inputGrupoStatus").val() || "",
          "Descrição Status": $("#inputDescStatus").val() || "",
          "Status RMA": $("#inputRma").val() || "",
          Observacoes: $("#inputObservacoes").val() || "",
          "Número de Série": $("#inputSerialNumber").val() || "",
          "Nota Fiscal": $("#inputNotaFiscal").val() || "",
          Revenda: $("#inputRevenda").val() || "",
          Hardware: $("#inputHardware").val() || "",
          Produto: $("#inputProduto").val() || "",
          "Data da Compra": $("#inputDataCompra").val() || "",
          Quantidade: $("#inputQuantidadeProduto").val() || "",
          "Valor Unitário": $("#inputValorUnitário").val() || "",
          "Grupo Tabulação": $("#inputGrupoTabulacao").val() || "",
          "Subgrupo Tabulação": $("#inputSubgrupoTabulacao").val() || "",
          Tabulação: $("#inputRegistroContato").val() || "",
        };

        updateParticipantAttributes(data);
        updateParticipantNotes();
        disconnectConversation(conversationId);
        createConversation(data);
      }

      $(document).ready(async function () {
        generateProtocol();

        var opcoes = {
          instalacao: [
            "Instalação Software D-link -A1",
            "Instalação de Driver - A2",
            "Configuração Cabeada - A3",
            "Configuração Wireless - A4",
            "Configuração de Segurança - A5",
            "Configuração de repetidor - A6",
            "Configuração WAN - A7",
          ],
          manutencao: [
            "Troca de Senha -B1",
            "Reset de Fabrica - B2",
            "Atualização de Driver - B3",
            "Atualização de Software - B4",
            "Atualização de Firmware -B5",
          ],
          outros: [
            "Informações de RMA - E1",
            "Informações de Produto - E2",
            "Informação de Eventos - E3",
            "Informações de Certificação - E4",
            "Informação de Estado de Caso (N2 ou HQ) - E5",
            "Orientação de Produtos e Solução - E6",
            "Envio para RMA - E7",
            "Vendas - E8",
            "Reembolso - E9",
            "Outros - E10",
          ],
          reclamacao: [
            "Suporte/Analista -D1",
            "Assistencia Técnica - D2",
            "Revenda/Distribuidor - D3",
            "Produtos - D4",
            "Site/Chat - D5",
          ],
          telefonia: ["Problema Telefonia/Falha Sistêmica"],
          rma: [
            "Não detecta CCD - CCD01",
            "Não exibe CCD - CCD02",
            "CCD Fisicamente quebrado - CCD03",
            "Falha na fonte interna - DEV01",
            "Falha na fonte externa - DEV02",
            "Não liga - DEV03",
            "Problema de inicialização do dispositivo - DEV04",
            "Defeito no Cooler - DEV05",
            "Falha no auto-teste (Boot) - DEV06",
            "Rebutando / Reiniciando - DEV07",
            "Erro no endereço MAC - DEV08",
            "Erro no número de série - DEV09",
            "Erro no código de origem da região - DEV10",
            "Falha na transferência de arquivo - DEV11",
            "Não detecta o equipamento - DEV12",
            "Falha no Reset para configuração de fábrica - DEV13",
            "Produto danificado / Avariado - DEV14",
            "Sem acesso à página Web de configuração - DEV15",
            "Falha no Firmware - DEV16",
            "Ruídos no Cooler - DEV17",
            "Falha causada por aquecimento - DEV18",
            "Falha causada por derramamento de líquido - DEV19",
            "Falha na porta HDMI - DMI01",
            "Falha na porta VDSL / ADSL - DSL01",
            "WAN funciona de forma intermitente - DSL02",
            "Taxa de dados baixa - DSL03",
            "Falha no teste de ping - DSL04",
            "Falha na Memória Flash / EEPROM - FEF01",
            "HD falhou - Não conecta com equipamento - HDD01",
            "Não detecta HD - HDD02",
            "Nenhuma imagem exibida - IMG01",
            "Cor anormal - IMG02",
            "Imagem anormal - IMG03",
            "Display LED anormal - LAN01",
            "Porta LAN intermitente - LAN02",
            "Não comunica com computador - LAN03",
            "Não comunica com impressora - LAN04",
            "Falha no PoE - LAN05",
            "Não imprime documentos extensos - LAN06",
            "Falha na porta LAN - LAN07",
            "Não exibe imagem no LCD - LCD01",
            "Display LCD fisicamente quebrado - LCD02",
            "Baixa intensidade de brilho de EL - LCD03",
            "Display LED anormal - LPT01",
            "LPT funciona intermitente - LPT02",
            "Falha na porta LPT - LPT03",
            "Equipamento não apresenta problema - NTF01",
            "Não detectado pelo Sistema Operacional - OSY01",
            "Outros / Reembolso - Other",
            "Placa de Circuito Impresso não liga - PCB01",
            "Falha na Placa de Circuito Impresso / Avariada - PCB02",
            "GE-PON / E-PON funciona intermitentemente - PON01",
            "Luz LED incomum - PON02",
            "Equipamento travado pela senha / Senha desconhecida - PSW01",
            "Não é possível conectar ao dispositivo - ROT01",
            "Roteador funciona de forma intermitente - ROT02",
            "Não Usar este - RWO01",
            "Alto-falante sem áudio - SPK01",
            "Ruídos no Alto-falante - SPK02",
            "Alto-falante sem áudio / Intermitente - SPK03",
            "Não comunica com impressora - USB01",
            "Não imprime documentos extensos - USB02",
            "Porta USB funciona intermitente - USB03",
            "LED Display anormal - USB04",
            "Falha na porta USB - USB05",
            "Falha causada pelo usuário - User Break",
            "Falha no PSTN (rede de telefone público) - VOI01",
            "Falha na ligação ISDN (rede digital de serviços integrados) - VOI02",
            "Display Led anormal - WAN01",
            "WAN funciona intermitente - WAN02",
            "Não comunica com computador - WAN03",
            "Não comunica com impressora - WAN04",
            "Falha na porta ADSL - WAN06",
            "Não comunica com Cable Modem - WAN07",
            "Falha na porta WAN - WAN08",
            "Sinal de Wireless não detectado - WLN01",
            "Wireless funciona intermitente - WLN02",
            "Display LED anormal - WLN03",
            "Não comunica com impressora - WLN04",
            "Não comunica com computador - WLN05",
            "Antena quebrada - WLN06",
          ],
        };

        if (token) {
          await getConversations();
        }

        // Manipulador de eventos para a submissão do formulário
        $("#formAtendimento").submit(async function (event) {
          event.preventDefault(); // Impede o envio padrão do formulário
          await getConversations();

          if (token && conversationId && participantId) {
            sendFormData(token, conversationId, participantId);
          } else {
            alert("Dados necessários para o envio não estão disponíveis.");
          }
        });

        $("#inputCep").on("blur", function () {
          var cep = $(this).val().replace(/\D/g, ""); // Remove tudo o que não é dígito

          if (cep != "") {
            var validacep = /^[0-9]{8}$/; // Expressão regular para validar o CEP.

            if (validacep.test(cep)) {
              // Consulta o webservice viacep.com.br
              $.getJSON(
                "https://viacep.com.br/ws/" + cep + "/json/?callback=?",
                function (dados) {
                  if (!("erro" in dados)) {
                    // Atualiza os campos com os valores da consulta.
                    $("#inputEstado").val(dados.uf);
                    $("#inputCidade").val(dados.localidade);
                    $("#inputBairro").val(dados.bairro);
                    $("#inputRua").val(dados.logradouro);
                    $("#inputComplemento").val(dados.complemento);
                  } else {
                    // CEP pesquisado não foi encontrado.
                    alert("CEP não encontrado.");
                  }
                }
              );
            } else {
              // CEP é inválido.
              alert("Formato de CEP inválido.");
            }
          } else {
            // CEP sem valor, limpa formulário.
            //alert("Informe um CEP.");
          }
        });

        $("#inputGrupoStatus").on("change", function () {
          var nivel1 = $(this).val();
          var nivel2 = $("#inputDescStatus");
          nivel2.empty(); // Remove todas as opções existentes
          nivel2.append(
            '<option value="" selected disabled hidden>Selecione uma opção...</option>'
          ); // Adiciona a opção padrão

          if (opcoes[nivel1]) {
            opcoes[nivel1].forEach(function (opcao) {
              nivel2.append(
                '<option value="' + opcao + '">' + opcao + "</option>"
              );
            });
          }
        });

        $("#inputDescStatus").on("change", function () {
          var opcaoSelecionada = $(this).val();

          if (opcaoSelecionada === "Envio para RMA - E7") {
            $("#divInputRma").show();
            $("#inputRma").append(
              '<option value="" selected disabled hidden>Selecione uma opção...</option>'
            ); // Adicionar opção padrão ao inputRma

            opcoes.rma.forEach(function (opcao) {
              $("#inputRma").append(
                '<option value="' + opcao + '">' + opcao + "</option>"
              ); // Correção: adicionar opções ao inputRma
            });
          } else {
            $("#divInputRma").hide();
          }
        });

        $("#inputGrupoTabulacao").on("change", function () {
          var nivel1 = $(this).val();
          var nivel2 = $("#inputSubgrupoTabulacao");
          var nivel3 = $("#inputRegistroContato");
          nivel2.empty();
          nivel3.empty();

          if (nivel1 == "Registro de Contato") {
            nivel2.append(
              '<option value="Direcionamento">Direcionamento</option>'
            );
            nivel2.append('<option value="Finalizado">Finalizado</option>');
            nivel2.append('<option value="Telefonia">Telefonia</option>');

            nivel3.append(
              '<option value="Abertura de RMA">Abertura de RMA</option>'
            );
            nivel3.append(
              '<option value="Direcionado para D-link">Direcionado para D-link</option>'
            );
            nivel3.append(
              '<option value="Direcionado para BKO">Direcionado para BKO</option>'
            );
            nivel3.append(
              '<option value="Direcionado para Suporte Avançado ">Direcionado para Suporte Avançado </option>'
            );
          }

          if (nivel1 == "Outros") {
            nivel2.append(
              '<option value="Pendente por Parte do Cliente">Pendente por Parte do Cliente</option>'
            );
            nivel3.append(
              '<option value="Pendente por Parte do Cliente">Pendente por Parte do Cliente</option>'
            );
          }
        });

        $("#inputSubgrupoTabulacao").on("change", function () {
          var nivel1 = $(this).val();
          var nivel2 = $("#inputRegistroContato");
          nivel2.empty();

          if (nivel1 == "Finalizado") {
            nivel2.append('<option value="Resolvido">Resolvido</option>');
          }

          if (nivel1 == "Direcionamento") {
            nivel2.append(
              '<option value="Abertura de RMA">Abertura de RMA</option>'
            );
            nivel2.append(
              '<option value="Direcionado para D-link">Direcionado para D-link</option>'
            );
            nivel2.append(
              '<option value="Direcionado para BKO">Direcionado para BKO</option>'
            );
            nivel2.append(
              '<option value="Direcionado para Suporte Avançado ">Direcionado para Suporte Avançado </option>'
            );
          }

          if (nivel1 == "Telefonia") {
            nivel2.append(
              '<option value="Problema Telefonia / Falha Sistêmica">Problema Telefonia / Falha Sistêmica</option>'
            );
          }
        });
      });
    </script>

    <div class="container py-5">
      <h2
        style="
          background-color: #e6e9f8;
          padding: 10px;
          border-radius: 5px;
          color: #0718ad;
        "
      >
        Atendimento D-Link
      </h2>
      <br />
      <br />
      <form id="formAtendimento">
        <!-- Row 1 -->
        <div class="row g-3 mt-3">
          <div class="col-md-4">
            <label for="inputNomeCliente" class="form-label">Nome</label>
            <input
              type="text"
              class="form-control campo-obrigatorio"
              id="inputNomeCliente"
              required
            />
          </div>
          <div class="col-md-4">
            <label for="inputContato" class="form-label">Contato</label>
            <input type="text" class="form-control" id="inputContato" />
          </div>
          <div class="col-md-4">
            <label for="inputEmailCliente" class="form-label">E-mail</label>
            <input
              type="text"
              class="form-control campo-obrigatorio"
              id="inputEmailCliente"
              required
            />
          </div>
        </div>

        <!-- Row 2 -->
        <div class="row g-3 mt-3">
          <div class="col-md-3">
            <label for="inputCpfCnpj" class="form-label">CPF/CNPJ</label>
            <input type="text" class="form-control" id="inputCpfCnpj" />
          </div>
          <div class="col-md-3">
            <label for="inputProtocolo" class="form-label">Protocolo</label>
            <input
              type="text"
              class="form-control campo-obrigatorio"
              id="inputProtocolo"
              required
            />
          </div>
          <div class="col-md-3">
            <label for="inputTelefone" class="form-label">Telefone</label>
            <input
              type="tel"
              class="form-control campo-obrigatorio"
              id="inputTelefone"
              required
            />
          </div>
          <div class="col-md-3">
            <label for="inputTelefonePrincipal" class="form-label"
              >Telefone Principal</label
            >
            <input
              type="tel"
              class="form-control campo-obrigatorio"
              id="inputTelefonePrincipal"
              required
            />
          </div>
        </div>

        <!-- Row 3 -->
        <div class="row g-3 mt-3">
          <div class="col-md-3">
            <label for="inputCep" class="form-label">CEP</label>
            <input type="text" class="form-control" id="inputCep" />
          </div>
          <div class="col-md-3">
            <label for="inputEstado" class="form-label">UF</label>
            <input type="text" class="form-control" id="inputEstado" />
          </div>
          <div class="col-md-3">
            <label for="inputCidade" class="form-label">Cidade</label>
            <input type="text" class="form-control" id="inputCidade" />
          </div>
          <div class="col-md-3">
            <label for="inputBairro" class="form-label">Bairro</label>
            <input type="text" class="form-control" id="inputBairro" />
          </div>
          <div class="col-md-3">
            <label for="inputRua" class="form-label">Rua</label>
            <input type="text" class="form-control" id="inputRua" />
          </div>
          <div class="col-md-3">
            <label for="inputNumeroResidencia" class="form-label">Número</label>
            <input
              type="text"
              class="form-control"
              id="inputNumeroResidencia"
            />
          </div>
          <div class="col-md-3">
            <label for="inputComplemento" class="form-label">Complemento</label>
            <input type="text" class="form-control" id="inputComplemento" />
          </div>
        </div>

        <!-- Row 4 -->
        <div class="row g-3 mt-3">
          <div class="col-md-6">
            <label for="inputGrupoStatus" class="form-label"
              >Grupo Status</label
            >
            <select
              class="form-select campo-obrigatorio"
              id="inputGrupoStatus"
              required
            >
              <option value="" selected disabled hidden>Escolher...</option>
              <option value="instalacao">Instalação e configuração</option>
              <option value="manutencao">Manutenção</option>
              <option value="outros">Outros</option>
              <option value="reclamacao">Reclamação</option>
              <option value="telefonia">Telefonia</option>
              <!-- Add options here -->
            </select>
          </div>
          <div class="col-md-6">
            <label for="inputDescStatus" class="form-label"
              >Descrição do Status</label
            >
            <select
              class="form-select campo-obrigatorio"
              id="inputDescStatus"
              required
            >
              <option value="" selected disabled hidden>Escolher...</option>
            </select>
          </div>
          <div class="col-md-6" id="divInputRma" style="display: none">
            <label for="inputRma" class="form-label">RMA</label>
            <select class="form-select" id="inputRma">
              <option value="" selected disabled hidden>Escolher...</option>
            </select>
          </div>
        </div>

        <!-- Row 5 -->
        <div class="row g-3 mt-3" id="divInputGarantia">
          <div class="col-md-3">
            <label for="inputSerialNumber" class="form-label"
              >Número de Série</label
            >
            <input type="text" class="form-control" id="inputSerialNumber" />
          </div>
          <div class="col-md-3">
            <label for="inputNotaFiscal" class="form-label">Nota FIscal</label>
            <input type="text" class="form-control" id="inputNotaFiscal" />
          </div>
          <div class="col-md-3">
            <label for="inputRevenda" class="form-label">Revenda</label>
            <input type="text" class="form-control" id="inputRevenda" />
          </div>
          <div class="col-md-3">
            <label for="inputHardware" class="form-label">Hardware</label>
            <input type="text" class="form-control" id="inputHardware" />
          </div>
          <div class="col-md-3">
            <label for="inputProduto" class="form-label">Produto</label>
            <input type="text" class="form-control" id="inputProduto" />
          </div>
          <div class="col-md-3">
            <label for="inputDataCompra" class="form-label"
              >Data da Compra</label
            >
            <input type="date" class="form-control" id="inputDataCompra" />
          </div>
          <div class="col-md-3">
            <label for="inputQuantidadeProduto" class="form-label"
              >Quantidade</label
            >
            <input
              type="text"
              class="form-control"
              id="inputQuantidadeProduto"
            />
          </div>
          <div class="col-md-3">
            <label for="inputValorUnitário" class="form-label"
              >Valor Unitário</label
            >
            <input type="text" class="form-control" id="inputValorUnitário" />
          </div>
        </div>

        <!-- Observações -->
        <div class="row g-3 mt-3">
          <div class="col">
            <label for="inputObservacoes" class="form-label">Observações</label>
            <textarea
              class="form-control"
              id="inputObservacoes"
              rows="3"
              required
            ></textarea>
          </div>
        </div>

        <!-- Row 6 -->
        <div class="row g-3 mt-3">
          <div class="col-md-6">
            <label for="inputGrupoTabulacao" class="form-label"
              >Grupo de Tabulação</label
            >
            <select
              class="form-select campo-obrigatorio"
              id="inputGrupoTabulacao"
              required
            >
              <option value="" selected disabled hidden>Escolher...</option>
              <option value="Registro de Contato">Registro de Contato</option>
              <option value="Outros">Outros</option>
              <!-- Add options here -->
            </select>
          </div>
          <div class="col-md-6">
            <label for="inputSubgrupoTabulacao" class="form-label"
              >Subgrupo de Tabulação</label
            >
            <select
              class="form-select campo-obrigatorio"
              id="inputSubgrupoTabulacao"
              required
            >
              <option value="" selected disabled hidden>Escolher...</option>
            </select>
          </div>
          <div class="col-md-6">
            <label for="inputRegistroContato" class="form-label"
              >Registro do Contato</label
            >
            <select
              class="form-select campo-obrigatorio"
              id="inputRegistroContato"
              required
            >
              <option value="" selected disabled hidden>Escolher...</option>
            </select>
          </div>
        </div>

        <!-- Buttons and Interaction Info -->
        <div class="row g-3 mt-3">
          <div class="col d-flex justify-content-start">
            <button type="submit" class="btn btn-success">
              Finalizar Atendimento
            </button>
          </div>
        </div>
      </form>
    </div>
  </body>
</html>
